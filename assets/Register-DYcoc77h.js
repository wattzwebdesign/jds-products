import{u as C,r as n,b as f,d as s,x as _,h as k,i as d,v as p,n as V,z as x,t as g,s as w,y as q,w as I,g as R,m as D,q as h}from"./index-CEb-2Dz9.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"auth-container"},z={class:"auth-card"},N={class:"form-group"},j={class:"form-group"},J={key:0,class:"password-strength"},M={class:"strength-bar"},B={class:"form-group"},E={class:"form-group"},G={key:0,class:"error-message"},Z=["disabled"],$={class:"auth-link"},F={__name:"Register",setup(L){const y=D(),S=C(),c=n(""),t=n(""),v=n(""),u=n(""),o=n(""),i=n(!1),l=n({percentage:0,text:"",class:""}),A=()=>{const a=t.value;let e=0;a.length>=8&&(e+=25),a.length>=12&&(e+=10),/[a-z]/.test(a)&&(e+=15),/[A-Z]/.test(a)&&(e+=15),/[0-9]/.test(a)&&(e+=15),/[!@#$%^&*(),.?":{}|<>]/.test(a)&&(e+=20),e<40?l.value={percentage:e,text:"Weak",class:"weak"}:e<70?l.value={percentage:e,text:"Fair",class:"fair"}:e<90?l.value={percentage:e,text:"Good",class:"good"}:l.value={percentage:100,text:"Strong",class:"strong"}},P=async()=>{if(o.value="",t.value!==v.value){o.value="Passwords do not match";return}if(t.value.length<8){o.value="Password must be at least 8 characters";return}const a=/[A-Z]/.test(t.value),e=/[a-z]/.test(t.value),m=/[0-9]/.test(t.value),r=/[!@#$%^&*(),.?":{}|<>]/.test(t.value);if(!a||!e||!m||!r){o.value="Password must include uppercase, lowercase, number, and special character";return}if(!u.value||u.value.trim()===""){o.value="JDS API token is required";return}i.value=!0;const b=await S.register(c.value,t.value,u.value);i.value=!1,b.success?y.push("/products"):o.value=b.error};return(a,e)=>{const m=R("router-link");return h(),f("div",U,[s("div",z,[e[12]||(e[12]=s("h1",null,"Register",-1)),e[13]||(e[13]=s("p",{class:"subtitle"},"Create an account to access product catalog",-1)),s("form",{onSubmit:_(P,["prevent"])},[s("div",N,[e[4]||(e[4]=s("label",{for:"username"},"Username",-1)),d(s("input",{id:"username","onUpdate:modelValue":e[0]||(e[0]=r=>c.value=r),type:"text",placeholder:"Choose a username",required:"",autocomplete:"username"},null,512),[[p,c.value]])]),s("div",j,[e[5]||(e[5]=s("label",{for:"password"},"Password",-1)),d(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=r=>t.value=r),type:"password",placeholder:"At least 8 characters",required:"",autocomplete:"new-password",minlength:"8",onInput:A},null,544),[[p,t.value]]),t.value?(h(),f("div",J,[s("div",M,[s("div",{class:x(["strength-fill",l.value.class]),style:V({width:l.value.percentage+"%"})},null,6)]),s("span",{class:x(["strength-text",l.value.class])},g(l.value.text),3)])):k("",!0),e[6]||(e[6]=s("small",{class:"help-text"},"Must include uppercase, lowercase, number, and special character",-1))]),s("div",B,[e[7]||(e[7]=s("label",{for:"confirmPassword"},"Confirm Password",-1)),d(s("input",{id:"confirmPassword","onUpdate:modelValue":e[2]||(e[2]=r=>v.value=r),type:"password",placeholder:"Re-enter your password",required:"",autocomplete:"new-password"},null,512),[[p,v.value]])]),s("div",E,[e[8]||(e[8]=s("label",{for:"jdsApiToken"},"JDS API Token",-1)),d(s("input",{id:"jdsApiToken","onUpdate:modelValue":e[3]||(e[3]=r=>u.value=r),type:"text",placeholder:"Enter your JDS API token",required:""},null,512),[[p,u.value]]),e[9]||(e[9]=s("small",{class:"help-text"},[w(" Get your API token from "),s("a",{href:"https://jdsindustries.com/?view=apiRequest",target:"_blank",rel:"noopener noreferrer"},"JDS Industries")],-1))]),o.value?(h(),f("div",G,g(o.value),1)):k("",!0),s("button",{type:"submit",class:"btn btn-primary",disabled:i.value},g(i.value?"Creating account...":"Create Account"),9,Z)],32),s("p",$,[e[11]||(e[11]=w(" Already have an account? ",-1)),q(m,{to:"/login"},{default:I(()=>[...e[10]||(e[10]=[w("Sign in here",-1)])]),_:1})])])])}}},K=T(F,[["__scopeId","data-v-d0bf561a"]]);export{K as default};
